<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¤ì‹œê°„ ABS ì›ê°€ ë¦¬ìŠ¤í¬ ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; }
        .live-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
    </style>
</head>
<body class="p-6">
    <div class="max-w-6xl mx-auto">
        <header class="mb-8 flex justify-between items-center border-b pb-6">
            <div>
                <h1 class="text-3xl font-extrabold text-slate-900 tracking-tight">Real-time ABS Cost Tracker</h1>
                <p class="text-slate-500 mt-1 font-medium">ì‹¤ì‹œê°„ ìœ ê°€ ì—°ë™ ë° ì›ê°€ ì „ì´ ì‹œë®¬ë ˆì´ì…˜</p>
            </div>
            <div class="flex items-center space-x-2 bg-green-100 px-3 py-1 rounded-full">
                <div class="w-2 h-2 bg-green-500 rounded-full live-pulse"></div>
                <span class="text-xs font-bold text-green-700 uppercase">Live Market Data</span>
            </div>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">ì‹¤ì‹œê°„ WTI ìœ ê°€</h3>
                <div class="flex items-baseline space-x-2">
                    <p id="live-wti" class="text-4xl font-black text-blue-600">--.--</p>
                    <span class="text-lg font-bold text-slate-400">USD</span>
                </div>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">ì˜ˆìƒ ABS Landed Cost</h3>
                <div class="flex items-baseline space-x-2">
                    <p id="live-abs" class="text-4xl font-black text-red-600">--.--</p>
                    <span class="text-lg font-bold text-slate-400">USD/MT</span>
                </div>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-l-orange-500">
                <h3 class="text-xs font-bold text-orange-500 uppercase tracking-wider mb-2">êµ¬ë§¤ ì‹œë‹ˆì–´ ê°€ì´ë“œ</h3>
                <p id="action-guide" class="text-lg font-bold text-slate-800">ë°ì´í„° ìˆ˜ì§‘ ì¤‘...</p>
            </div>
        </div>

        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
            <h3 class="font-bold text-slate-800 mb-6 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="Standard-9"></path></svg>
                ìƒì„¸ ë¶„ì„ ë° íŠ¸ë Œë“œ ë¦¬í¬íŠ¸
            </h3>
            <img id="risk-chart" src="risk_simulation_report.png" class="w-full rounded-xl" alt="Report Graph">
        </div>
    </div>

    <script>
        // ì—…ë¡œë“œ íŒŒì¼ ë¶„ì„ì„ í†µí•´ ë„ì¶œí•œ ìƒìˆ˜
        const M_ABS = 8.21;
        const B_ABS = 1106.22;
        const FREIGHT_PREMIUM = 150; // ì´ë€ ë¦¬ìŠ¤í¬ í• ì¦ë£Œ (ê³ ì •)

        async function fetchLivePrice() {
            try {
                // ì‹¤ì‹œê°„ ìœ ê°€ API í˜¸ì¶œ (ë¬´ë£Œ API ì˜ˆì‹œ: ìº”ë“¤ìŠ¤í‹± ë°ì´í„° ì‚¬ìš©)
                // ì‹¤ì œ ìš´ì˜ ì‹œì—ëŠ” ë³¸ì¸ì˜ API Keyë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì •ì ì…ë‹ˆë‹¤.
                const response = await fetch('https://api.binance.com/api/v3/ticker/price?symbol=USDTTRY'); // í…ŒìŠ¤íŠ¸ìš© í”„ë¡ì‹œ
                // ì‹¤ì œ WTI ë°ì´í„°ëŠ” yfinance ê²°ê³¼ íŒŒì¼ì„ ì½ê±°ë‚˜ ì „ìš© API ì—°ë™ í•„ìš”
                // ì—¬ê¸°ì„œëŠ” ì‹œì—°ì„ ìœ„í•´ ë™ì‘ êµ¬ì¡°ë§Œ êµ¬í˜„
                
                // ê°€ìƒ ì‹¤ì‹œê°„ ìœ ê°€ (ì‹¤ì œë¡œëŠ” APIì—ì„œ ê°€ì ¸ì˜¨ ê°’ì„ ë„£ìŒ)
                const currentWti = 78.45 + (Math.random() - 0.5); 
                
                updateUI(currentWti);
            } catch (error) {
                console.error("ì‹¤ì‹œê°„ ë°ì´í„° í˜¸ì¶œ ì‹¤íŒ¨:", error);
            }
        }

        function updateUI(wti) {
            // ìˆ˜ì‹ ì ìš©: ABS = m * WTI + b
            const absBase = (wti * M_ABS) + B_ABS;
            const landedCost = absBase + FREIGHT_PREMIUM;

            document.getElementById('live-wti').innerText = wti.toFixed(2);
            document.getElementById('live-abs').innerText = landedCost.toFixed(2);

            // ê°€ì´ë“œ ìë™ ì—…ë°ì´íŠ¸
            const guide = document.getElementById('action-guide');
            if (landedCost > 1800) {
                guide.innerText = "ğŸš¨ ì¦‰ì‹œ ì„ í™•ë³´ (ê°•ë ¥ ê¶Œê³ )";
                guide.classList.add('text-red-600');
            } else {
                guide.innerText = "âœ… ë¶„í•  êµ¬ë§¤ ë° ëª¨ë‹ˆí„°ë§";
                guide.classList.remove('text-red-600');
            }
        }

        // 5ì´ˆë§ˆë‹¤ ì‹¤ì‹œê°„ ê°€ê²© ê°±ì‹ 
        setInterval(fetchLivePrice, 5000);
        window.onload = fetchLivePrice;
    </script>
</body>
</html>
